import './polyfills.server.mjs';
import{a as D}from"./chunk-4MUAECFF.mjs";import{a as k,b as F}from"./chunk-WC5GJMLX.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-WVUI6REW.mjs";import{$a as I,Aa as C,Ba as n,Ca as o,Da as u,F as s,Ga as T,I as g,Ia as E,Ja as p,P as S,Q as h,Sa as l,Ta as m,Ua as b,_a as y,_b as A,ea as P,ga as a,ra as f,ta as w,xa as v,ya as _,za as x}from"./chunk-EYDXITQF.mjs";import"./chunk-VVCT4QZE.mjs";var M=()=>[1,2,3,4,5];function O(t,r){if(t&1&&(n(0,"swiper-slide"),u(1,"img",11),o()),t&2){let i=r.$implicit,c=p(2);a(),w("src",i,P)("alt",c.detailProduct.title)}}function R(t,r){t&1&&(n(0,"span"),u(1,"i",12),o())}function V(t,r){t&1&&u(0,"i",8)}function j(t,r){if(t&1){let i=T();n(0,"section")(1,"div",0)(2,"h1",1),l(3,"Details Product"),o(),n(4,"div",2)(5,"swiper-container",3),x(6,O,2,2,"swiper-slide",null,_),o()(),n(8,"div",4)(9,"div")(10,"h2"),l(11),o(),n(12,"p",5),l(13),o(),n(14,"h3",6),l(15),o(),n(16,"div",7)(17,"span"),l(18),o(),n(19,"div"),x(20,R,2,0,"span",null,_),f(22,V,1,0,"i",8),n(23,"span",9),l(24),o()()(),n(25,"button",10),E("click",function(){S(i);let e=p();return h(e.addToCart(e.detailProduct._id))}),l(26,"+Add To Cart"),o()()()()()}if(t&2){let i=p();a(6),C(i.detailProduct.images),a(5),m(i.detailProduct.title),a(2),m(i.detailProduct.description),a(2),m(i.detailProduct.category.name),a(3),b("",i.detailProduct.price," EGP"),a(2),C(I(6,M).slice(0,i.detailProduct.ratingsAverage)),a(2),v(22,i.detailProduct.ratingsAverage%1!=0?22:-1),a(2),m(i.detailProduct.ratingsAverage)}}var q=(()=>{let r=class r{constructor(){this._ActivatedRoute=s(A),this._ProductsService=s(D),this._CartService=s(k),this._ToastrService=s(F),this.detailProduct=null}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:c=>{let e=c.get("id");this._ProductsService.getSpecificProducts(e).subscribe({next:d=>{console.log(d.data),this.detailProduct=d.data},error:d=>{console.log(d)}})}})}addToCart(c){this._CartService.addProductToCart(c).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"FreshCart"),this._CartService.cartNumber.next(e.numOfCartItems)},error:e=>{console.log(e)}})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g({type:r,selectors:[["app-details"]],standalone:!0,features:[y],decls:1,vars:1,consts:[[1,"row","align-items-center"],[1,"text-center","text-main","my-2"],[1,"col-md-3"],["pagination","true","effect","coverflow","grab-cursor","true","centered-slides","true","slides-per-view","auto","coverflow-effect-rotate","50","coverflow-effect-stretch","0","coverflow-effect-depth","100","coverflow-effect-modifier","1","coverflow-effect-slide-shadows","true",1,"mySwiper"],[1,"col-md-9"],[1,"text-muted"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted","fs-6"],[1,"btn-main","w-100","mt-2",3,"click"],[1,"w-100","rounded","pro-img",3,"src","alt"],[1,"fas","fa-star","rating-color","fs-6"]],template:function(e,d){e&1&&f(0,j,27,7,"section"),e&2&&v(0,d.detailProduct?0:-1)}});let t=r;return t})();export{q as DetailsComponent};
