import './polyfills.server.mjs';
import{a as G}from"./chunk-4MUAECFF.mjs";import{a as X}from"./chunk-BOXCCQIZ.mjs";import{a as K,b as Q}from"./chunk-WC5GJMLX.mjs";import{c as R,d as q,e as H,f as ee,g as te,h as ie}from"./chunk-KSJCNAUE.mjs";import{a as J}from"./chunk-Z66F2HNP.mjs";import{a as O,c as j,e as U,j as $}from"./chunk-DYMMFVCW.mjs";import"./chunk-GTSSCL6B.mjs";import{c as Y,d as Z}from"./chunk-HUBBNFLM.mjs";import"./chunk-WVUI6REW.mjs";import{$a as I,Aa as P,Ba as r,Ca as c,Da as u,F as m,Ga as E,Hb as z,I as y,Ia as _,Ja as x,P as h,Q as C,Sa as l,Ta as T,Ua as f,Wa as L,Xa as B,Ya as A,_a as W,ab as V,bb as N,cc as D,ea as w,eb as p,fb as b,ga as s,gb as g,ra as F,ta as v,xa as k,ya as M,za as S}from"./chunk-EYDXITQF.mjs";import"./chunk-VVCT4QZE.mjs";var ne=(t,i)=>i.id,oe=(t,i)=>({itemsPerPage:t,currentPage:i}),ae=t=>["/details",t],se=()=>[1,2,3,4,5];function ce(t,i){t&1&&(r(0,"span"),u(1,"i",16),c())}function le(t,i){t&1&&u(0,"i",13)}function pe(t,i){if(t&1){let n=E();r(0,"div",3)(1,"div",5)(2,"span",6),_("click",function(){let e=h(n).$implicit,a=x();return C(a.addToWishList(e.id))}),u(3,"i",7),c(),r(4,"div",8),u(5,"img",9),r(6,"h3",10),l(7),p(8,"sale"),c(),r(9,"h4",11),l(10),p(11,"termtext"),c(),r(12,"div",12)(13,"span"),l(14),p(15,"currency"),c(),r(16,"div"),S(17,ce,2,0,"span",null,M),F(19,le,1,0,"i",13),r(20,"span",14),l(21),c()()()(),r(22,"button",15),_("click",function(){let e=h(n).$implicit,a=x();return C(a.addToCart(e.id))}),l(23,"Add To Cart"),c()()()}if(t&2){let n=i.$implicit;s(4),v("routerLink",V(16,ae,n.id)),s(),v("src",n.imageCover,w)("alt",n.title),s(2),f(" ",b(8,8,n.category.name)," "),s(3),f(" ",g(11,10,n.title,2)," "),s(4),T(g(15,13,n.price,"GBP")),s(3),P(I(18,se).slice(0,n.ratingsAverage)),s(2),k(19,n.ratingsAverage%1!=0?19:-1),s(2),T(n.ratingsAverage)}}var Ae=(()=>{let i=class i{constructor(){this._ProductsService=m(G),this._CartService=m(K),this._WishlistService=m(X),this._ToastrService=m(Q),this.productsList=[],this.text="",this.pageSize=20,this.currentPage=1}ngOnInit(){this.getAllProductsSubscription=this._ProductsService.getAllProducts().subscribe({next:o=>{console.log(o.data),this.productsList=o.data},error:o=>{console.log(o)}})}ngOnDestroy(){this.getAllProductsSubscription?.unsubscribe()}addToCart(o){this._CartService.addProductToCart(o).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"FreshCart"),this._CartService.cartNumber.next(e.numOfCartItems)},error:e=>{console.log(e)}})}addToWishList(o){this._WishlistService.addProductToWishList(o).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"FreshCart")},error:e=>{console.log(e)}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=y({type:i,selectors:[["app-product"]],standalone:!0,features:[W],decls:11,vars:13,consts:[[1,"text-main","border-top","border-bottom","py-2"],["type","search","placeholder","Search By Name .......",1,"w-50","form-control","mx-auto","my-3",3,"ngModelChange","ngModel"],[1,"row","g-4","my-5"],[1,"col-md-3"],[3,"pageChange"],[1,"product","bg-body","p-2","cursor-pointer"],[1,"text-main","btn","wish","w-100","fs-2","position-absolute","top-0","z-3",3,"click"],[1,"fa-regular","fa-heart"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted","fs-6"],[1,"btn-main","w-100",3,"click"],[1,"fas","fa-star","rating-color","fs-6"]],template:function(e,a){e&1&&(r(0,"section")(1,"h2",0),l(2),p(3,"translate"),c(),r(4,"input",1),A("ngModelChange",function(d){return B(a.text,d)||(a.text=d),d}),c(),r(5,"div",2),S(6,pe,24,19,"div",3,ne),p(8,"search"),p(9,"paginate"),c()(),r(10,"pagination-controls",4),_("pageChange",function(d){return a.currentPage=d}),c()),e&2&&(s(2),f(" ",b(3,2,"All Products")," : "),s(2),L("ngModel",a.text),s(2),P(g(9,7,g(8,4,a.productsList,a.text),N(10,oe,a.pageSize,a.currentPage))))},dependencies:[Z,Y,ie,ee,te,R,D,$,O,j,U,q,H,J,z]});let t=i;return t})();export{Ae as ProductComponent};
